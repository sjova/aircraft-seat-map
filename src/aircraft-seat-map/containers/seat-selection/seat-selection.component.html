<ng-container *ngIf="flightSeatMap$ | async as flightSeatMap; else loading">
  <div class="header">
    <div>
      <mat-form-field appearance="fill">
        <mat-label>Select Flight</mat-label>
        <mat-select [(ngModel)]="selectedFlight" name="food">
          <mat-option *ngFor="let flight of flights" [value]="flight.value">
            {{ flight.viewValue }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field appearance="fill">
        <mat-label>Select Traveler</mat-label>
        <mat-select [(ngModel)]="selectedTraveler" name="food">
          <mat-option
            *ngFor="let traveler of travelers"
            [value]="traveler.value"
          >
            {{ traveler.viewValue }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <div class="content">
    <div class="selection-wrapper">
      <pre>{{ selectedFlight | json }}</pre>
      <pre>{{ selectedTraveler | json }}</pre>
    </div>
    <div class="aircraft-wrapper">
      <app-seat-map
        [flightSeatMap]="flightSeatMap"
        [flight]="selectedFlight"
        [traveler]="selectedTraveler"
      ></app-seat-map>
    </div>
    <div class="right-placeholder"></div>
  </div>

  <div class="footer">
    <div class="seat-info-wrapper">
      <div class="seat-info">
        <div class="info-box available"></div>
        <span class="label">Available</span>
      </div>
      <div class="seat-info">
        <div class="info-box unavailable"></div>
        <span class="label">Unavailable</span>
      </div>
      <div class="seat-info">
        <div class="info-box occupied"></div>
        <span class="label">Occupied</span>
      </div>
      <div class="seat-info">
        <div class="info-box unknown"></div>
        <span class="label">Unknown</span>
      </div>
    </div>
    <div class="cta-wrapper">
      <div class="cta-inner-wrapper">
        <p class="price">Total price: 0&euro;</p>
        <button class="cancel" mat-stroked-button routerLink="/demo/summary">
          Cancel
        </button>
        <button
          class="confirm"
          mat-flat-button
          color="accent"
          routerLink="/demo/summary"
        >
          Confirm settings
        </button>
        <!--
      <button mat-flat-button color="accent" (click)="confirmSettings()">
        Confirm settings
      </button>
      --></div>
    </div>
  </div>
</ng-container>
<ng-template #loading>
  <!--<p>Loading...</p>-->
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</ng-template>
